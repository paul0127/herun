<!DOCTYPE html>
<html lang="zh-tw">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>訂單查詢</title>
    <link rel="stylesheet" href="./Content/bootstrap.min.css" />
    <link
      rel="stylesheet"
      href="http://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="./Content/mmenu.css" />
    <link rel="stylesheet" href="./Content/style.css" />
  </head>
  <body>
    <div>
      <!--頁首-->
      <header>
        <div class="container">
          <div class="top_main">
            <!--手機選單按鈕-->
            <div class="mobile_nav">
              <a href="#mobile_menu">
                <span></span>
                <span></span>
                <span></span>
              </a>
            </div>
            <!--logo-->
            <div class="logo">
              <a href="./"
                ><img src="./Content/img/index/223x65_上bar_logo.png"
              /></a>
            </div>
            <!--PC選單-->
            <nav>
              <ul>
                <li><a href="#">合潤介紹</a></li>
                <li><a href="#">品牌介紹</a></li>
                <li><a href="experience.html">使用者體驗</a></li>
                <li class="sub">
                  <a href="#">最新消息</a>
                  <div class="sub_menu">
                    <ul>
                      <li><a href="news.html">最新動態</a></li>
                      <li><a href="product_news.html">產品消息</a></li>
                    </ul>
                  </div>
                </li>
                <li><a href="product_list.html">合潤購物中心</a></li>
                <li class="sub">
                  <a href="#">常見問題</a>
                  <div class="sub_menu">
                    <ul>
                      <li><a href="notice.html">購物須知</a></li>
                      <li><a href="policy.html">退換貨政策</a></li>
                      <li><a href="upgrade.html">會員升級</a></li>
                      <li><a href="#">聯絡我們</a></li>
                    </ul>
                  </div>
                </li>
              </ul>
            </nav>
            <!--會員登入 搜尋icon-->
            <div class="toolbar">
              <ul>
                <li class="login_btn">
                  <a href="#">登入</a>
                </li>
                <li class="search_btn">
                  <img src="./Content/img/index/22x22_上bar_icon.png" />
                </li>
                <li class="user_btn sub">
                  <a href="javascript:void(0)"
                    ><img src="./Content/img/index/20x20_上bar_icon.png"
                  /></a>
                  <div class="sub_menu">
                    <ul>
                      <li><a href="information.html">會員資料</a></li>
                      <li><a href="notice.html">購物須知</a></li>
                      <li><a href="order.html">訂單查詢</a></li>
                    </ul>
                  </div>
                </li>
                <li class="cart_btn sub">
                  <a href="javascript:void(0)"
                    ><img src="./Content/img/index/24x21_上bar_icon.png" /><span
                      >0</span
                    ></a
                  >
                  <div class="sub_menu">
                    <ul>
                      <li>
                        <div class="name">商品名稱</div>
                        <div class="price">$8,320</div>
                      </li>
                      <li>
                        <div class="name">商品名稱</div>
                        <div class="price">$8,320</div>
                      </li>
                    </ul>
                    <div class="total">總計 $8,320</div>
                    <div class="cart_in_btn">
                      <a href="cart.html">立即結帳</a>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
            <!--彈出搜尋bar-->
            <div class="search_bar">
              <div class="container">
                <form class="search_inner" action="/search" method="get">
                  <input type="text" name="search" placeholder="請輸入關鍵字" />
                  <button>搜尋</button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </header>

      <div class="member_contain">
        <div class="container">
          <div class="bread">
            <ul>
              <li><a href="#">首頁</a></li>
              <li><a href="#">會員中心</a></li>
              <li><a href="#">訂單相關查詢</a></li>
              <li>訂單查詢</li>
            </ul>
          </div>
        </div>
        <div class="container">
          <div class="member_container">
            <!--側邊攔-->
            <div class="side_menu">
              <ul>
                <li>
                  <label
                    ><img src="./Content/img/rank/何潤ICON-01.png" /><span
                      >業績與獎金查詢</span
                    ></label
                  >
                  <ul class="sub_menu">
                    <li><a href="performance.html">組織業績</a></li>
                    <li><a href="rank.html">組織管理</a></li>
                  </ul>
                </li>
                <li>
                  <label
                    ><img src="./Content/img/rank/何潤ICON-02.png" /><span
                      >個人帳戶管理</span
                    ></label
                  >
                  <ul class="sub_menu">
                    <li><a href="information.html">帳戶管理</a></li>
                    <li><a href="#">個人獎金</a></li>
                    <li><a href="#">購物金</a></li>
                    <li><a href="#">撥款明細</a></li>
                  </ul>
                </li>
                <li>
                  <label
                    ><img src="./Content/img/rank/何潤ICON-05.png" /><span
                      >訂單相關查詢</span
                    ></label
                  >
                  <ul class="sub_menu">
                    <li><a href="order.html">訂單查詢</a></li>
                  </ul>
                </li>
                <li>
                  <label
                    ><img src="./Content/img/rank/何潤ICON-03.png" /><span
                      >訊息中心</span
                    ></label
                  >
                  <ul class="sub_menu">
                    <li><a href="#">訊息中心</a></li>
                  </ul>
                </li>
                <li>
                  <label
                    ><img src="./Content/img/rank/何潤ICON-04.png" /><span
                      >相關下載</span
                    ></label
                  >
                  <ul class="sub_menu">
                    <li><a href="dowload.html">檔案下載</a></li>
                  </ul>
                </li>
              </ul>
            </div>

            <div class="member_main" id="app">
              <div class="title">訂單查詢</div>
              <div class="table">
                <div class="head">
                  <div class="th">日期時間</div>
                  <div class="th">訂單編號</div>
                  <div class="th">訂單金額</div>
                  <div class="th">訂單狀態</div>
                  <div class="th">訂單明細</div>
                </div>
                <div class="tr" v-for="item in order_list">
                  <div class="td">{{item.order_date}}</div>
                  <div class="td">{{item.order_id}}</div>
                  <div class="td">{{formatNumber(item.total)}}</div>
                  <div class="td">{{formatPayment(item.payment)}}</div>
                  <div class="td">
                    <button class="detail" @click="open_popup(item.order_id)">
                      訂單明細
                    </button>
                  </div>
                </div>
              </div>

              <div class="popup" :class="{active:popup_toggle}">
                <div class="popup_close">
                  <i class="fa fa-times-circle" @click="close_popup"></i>
                </div>
                <div class="popup_main">
                  <div class="title">訂單編號：{{current_order.order_id}}</div>

                  <div class="popup_form">
                    <div class="list">
                      <div class="item half">
                        <label>付款方式</label>
                        <div class="text">
                          {{formatPayment(current_order.payment)}}
                        </div>
                      </div>
                      <div class="item half">
                        <label>付款日期</label>
                        <div class="text">{{current_order.order_date}}</div>
                      </div>
                    </div>

                    <div class="list">
                      <div class="item">
                        <label>訂單訊息</label>
                        <div class="text">{{current_order.massage}}</div>
                      </div>
                    </div>

                    <div class="list">
                      <div class="item">
                        <label>收件地址</label>
                        <div class="text">{{current_order.address}}</div>
                      </div>
                    </div>

                    <div class="list">
                      <div class="item half">
                        <label>收件人</label>
                        <div class="text">{{current_order.name}}</div>
                      </div>
                      <div class="item half">
                        <label>收件人電話</label>
                        <div class="text">{{current_order.phone}}</div>
                      </div>
                    </div>

                    <div class="list">
                      <div class="item">
                        <label>訂單金額</label>
                        <div class="text">
                          {{formatNumber(current_order.total)}}
                        </div>
                      </div>
                    </div>

                    <div class="list">
                      <div class="item half">
                        <label>運費</label>
                        <div class="text">{{current_order.shipping}}</div>
                      </div>
                      <div class="item half">
                        <label>購物金</label>
                        <div class="text">{{current_order.git_voucher}}</div>
                      </div>
                    </div>

                    <div class="list">
                      <div class="item">
                        <label>管理者備註</label>
                        <div class="text">{{current_order.memo}}</div>
                      </div>
                    </div>
                  </div>

                  <div class="detail">
                    <div class="title">訂購明細</div>
                    <div class="detail_table">
                      <div class="head">
                        <div class="th">品名</div>
                        <div class="th qty">數量</div>
                        <div class="th price">金額</div>
                      </div>
                      <div class="list" v-for="e in current_order.detail">
                        <div class="td">{{e.product_name}}</div>
                        <div class="td qty">{{e.qty}}</div>
                        <div class="td price">{{formatNumber(e.price)}}</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!--頁尾-->
      <footer>
        <div class="container">
          <div class="footer_content">
            <div class="footer_logo">
              <a href="#"
                ><img src="./Content/img/index/276x93_下bar_logo.png"
              /></a>
            </div>
            <div class="footer_link">
              <ul>
                <li><a href="#">合潤介紹</a></li>
                <li><a href="news.html">招募夥伴與徵才</a></li>
                <li><a href="#">品牌介紹</a></li>
                <li><a href="news.html">最新消息</a></li>
                <li><a href="product_list.html">合潤購物中心</a></li>
                <li><a href="#">聯絡我們</a></li>
                <li><a href="privacy.html">隱私權聲明</a></li>
              </ul>
            </div>
            <div class="footer_bottom">
              <div class="contact">
                <div>客服專線 07-345-0401</div>
                <div>傳真 07-556-5126</div>
                <div>地址 80466 台灣高雄市鼓山區博愛一路534號8樓之2</div>
                <div>E-MAIL service.tw@twherun.com</div>
              </div>
              <div class="social">
                <ul>
                  <li>
                    <a href="#"
                      ><img src="./Content/img/index/41x41_下barfb_icon.png"
                    /></a>
                  </li>
                  <li>
                    <a href="#"
                      ><img src="./Content/img/index/41x41_下baryu_icon.png"
                    /></a>
                  </li>
                  <li>
                    <a href="#"
                      ><img src="./Content/img/index/41x41_下barline_icon.png"
                    /></a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </footer>
    </div>
    <nav id="mobile_menu">
      <div id="panel_menu">
        <ul>
          <li><a href="./">回到首頁</a></li>
          <li><a href="company.html">合潤介紹</a></li>
          <li><a href="brand.html">品牌介紹</a></li>
          <li><a href="experience.html">使用者體驗</a></li>
          <li>
            <span>最新消息</span>
            <ul>
              <li><a href="news.html">最新動態</a></li>
              <li><a href="product_news.html">產品消息</a></li>
            </ul>
          </li>
          <li>
            <span>合潤購物中心</span>
            <ul>
              <li>
                <span>商品名稱</span>
                <ul>
                  <li><a href="product_list.html">商品名稱</a></li>
                  <li><a href="product_list.html">商品名稱</a></li>
                  <li><a href="product_list.html">商品名稱</a></li>
                </ul>
              </li>
              <li>
                <span>商品名稱</span>
                <ul>
                  <li><a href="product_list.html">商品名稱</a></li>
                  <li><a href="product_list.html">商品名稱</a></li>
                  <li><a href="product_list.html">商品名稱</a></li>
                </ul>
              </li>
              <li>
                <span>商品名稱</span>
                <ul>
                  <li><a href="product_list.html">商品名稱</a></li>
                  <li><a href="product_list.html">商品名稱</a></li>
                  <li><a href="product_list.html">商品名稱</a></li>
                </ul>
              </li>
              <li>
                <span>商品名稱</span>
                <ul>
                  <li><a href="product_list.html">商品名稱</a></li>
                  <li><a href="product_list.html">商品名稱</a></li>
                  <li><a href="product_list.html">商品名稱</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li>
            <span>常見問題</span>
            <ul>
              <li><a href="notice.html">購物須知</a></li>
              <li><a href="policy.html">退換貨政策</a></li>
              <li><a href="upgrade.html">會員升級</a></li>
              <li><a href="contact.html">聯絡我們</a></li>
            </ul>
          </li>
          <li>
            <span>會員中心</span>
            <ul>
              <li>
                <span>業績與獎金查詢</span>
                <ul>
                  <li><a href="performance.html">組織業績表</a></li>
                  <li><a href="rank.html">組織管理</a></li>
                </ul>
              </li>
              <li>
                <span>個人帳戶管理</span>
                <ul>
                  <li><a href="information.html">帳戶管理</a></li>
                  <li><a href="bonus.html">個人獎金</a></li>
                  <li><a href="shopping_money.html">購物金</a></li>
                  <li><a href="appropriation.html">撥款明細</a></li>
                </ul>
              </li>
              <li>
                <span>訂單相關查詢</span>
                <ul>
                  <li><a href="order.html">訂單查詢</a></li>
                </ul>
              </li>
              <li>
                <span>訊息中心</span>
                <ul>
                  <li><a href="message.html">訊息中心</a></li>
                </ul>
              </li>
              <li>
                <span>相關下載</span>
                <ul>
                  <li><a href="dowload.html">檔案下檔</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a href="login.html">會員登入</a></li>
          <li><a href="regist.html">會員註冊</a></li>
        </ul>
      </div>
      <div id="panel_cart">
        <div class="mobile_cart">
          <div class="mobile_cart_top">
            <div class="list">
              <div class="name">商品名稱</div>
              <div class="price">$8,320</div>
            </div>
            <div class="list">
              <div class="name">商品名稱</div>
              <div class="price">$8,320</div>
            </div>
            <div class="total">總計 $8,320</div>
          </div>

          <div class="cart_in_btn">
            <a href="cart.html">立即結帳</a>
          </div>
        </div>
      </div>
    </nav>
    <script src="./Scripts/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="./Scripts/mmenu.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.10/vue.js"></script>
    <script src="./Scripts/main.js"></script>
    <script>
      let app = new Vue({
        el: '#app',
        data() {
          return {
            order_list: [],
            current_order: {},
            popup_toggle: false,
            status: ['未完成付款', '完成付款'],
            payment: ['信用卡刷卡', '貨到付款'],
          }
        },
        mounted() {
          let self = this
          $.ajax({
            url: './Content/data/order_list.json',
            type: 'get',
            success: function (resp) {
              self.order_list = resp
            },
          })
        },
        methods: {
          open_popup(order_id) {
            this.popup_toggle = true

            let Index = this.order_list.findIndex(
              (item) => item.order_id === order_id
            )
            this.current_order = JSON.parse(
              JSON.stringify(this.order_list[Index])
            )
          },
          close_popup() {
            this.popup_toggle = false
          },
          formatNumber(num) {
            if (num) {
              let number = num.toString()
              let pattern = /\d{1,3}(?=(\d{3})+$)/g

              return number.replace(pattern, '$&,')
            }
          },
          formatStatus(status) {
            return this.status[status]
          },
          formatPayment(payment) {
            return this.payment[payment]
          },
        },
      })
    </script>
  </body>
</html>
